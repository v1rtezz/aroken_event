const l="AROKENFIBERSON",S="letter_game_progress",k="letter_game_count";let m=null;function h(){const f=document.querySelector("[data-letter-btn]"),s=document.querySelector("[data-letter-dropdown]"),o=document.getElementById("letter-input"),c=document.getElementById("letter-message"),v=document.getElementById("letter-count"),p=document.getElementById("letter-sequence-display"),w=document.getElementById("reset-btn");if(!f||!s||!o||!c||!v||!p||!w)return;let n=[];function y(){try{const e=localStorage.getItem(S);e&&(n=JSON.parse(e).foundLetters||[],u())}catch(e){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:",e),n=[]}}function E(){try{localStorage.setItem(S,JSON.stringify({foundLetters:n})),localStorage.setItem(k,n.length.toString())}catch(e){console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:",e)}}function L(){const e={};for(let t of l)e[t]=(e[t]||0)+1;for(let t of n)e[t]&&e[t]--;return e}function u(){if(!v||!p||!o)return;v.textContent=n.length.toString();const e=[],t=[...n];for(let a=0;a<l.length;a++){const i=l[a],g=t.indexOf(i);g!==-1?(e.push(i),t.splice(g,1)):e.push("*")}p.textContent=e.join(" "),n.length>=l.length&&(r("üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –í—ã —Å–æ–±—Ä–∞–ª–∏ –≤—Å—é —Ñ—Ä–∞–∑—É!","success"),o.disabled=!0,window.dispatchEvent(new CustomEvent("casino-video-trigger")))}function r(e,t){c&&(c.textContent=e,c.className="letter-message",t&&c.classList.add(t))}function I(){if(!o)return;if(n.length>=l.length){r("–í—Å–µ –±—É–∫–≤—ã —É–∂–µ –Ω–∞–π–¥–µ–Ω—ã!","error");return}const e=o.value;if(e===" "||e===""){const i=L();if(i[" "]&&i[" "]>0){n.push(" "),E(),u(),r("–ü—Ä–∞–≤–∏–ª—å–Ω–æ!","success"),o.value="";return}else{r("–ù–µ–≤–µ—Ä–Ω–æ!","error");return}}const t=e.toUpperCase();if(!t){r("","");return}const a=L();if(a[t]&&a[t]>0){n.push(t),E(),u(),r("–ü—Ä–∞–≤–∏–ª—å–Ω–æ!","success"),o.value="";const g=["A","R","O","K","E","N","F"].every(d=>n.includes(d)),O=localStorage.getItem("devtools_triggered");if(g&&!O){localStorage.setItem("devtools_triggered","true");const d=new CustomEvent("aroken-trigger",{detail:{audioPath:"/aroken_event/devtools.wav",duration:1e4,subtitles:"–±—Ä–∞—Ç, –∂–æ–ø–æ–π —á—É—é —á—Ç–æ –Ω–∞ –≤–∏–¥–Ω–æ–º –º–µ—Å—Ç–µ –±–æ–ª—å—à–µ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç. –ú–æ–∂–µ—Ç, –ø–æ–ø—Ä–æ–±—É–µ–º –∑–∞–≥–ª—è–Ω—É—Ç—å –ø–æ–≥–ª—É–±–∂–µ? –ö—É–¥–∞ –æ–±—ã—á–Ω—ã–π —é–∑–µ—Ä –±—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–ª–µ–∑, –∞ –µ—Å–ª–∏ –±—ã –∑–∞–ª–µ–∑ - —Å—Ä–∞–∑—É –±—ã –≤—ã—à–µ–ª"}});window.dispatchEvent(d)}const b=localStorage.getItem("prefinal_triggered");if(n.length===9&&!b){localStorage.setItem("prefinal_triggered","true");const d=new CustomEvent("aroken-trigger",{detail:{audioPath:"/aroken_event/prefinal.wav",duration:23e3,subtitles:"–ú–∞—à–∏–Ω–∞ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî —ç—Ç–æ –≥–∏–ø–æ—Ç–µ—Ç–∏—á–µ—Å–∫–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–ª–∏ –ø—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–∏–µ, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø—Ä–æ—à–ª–æ–µ –∏–ª–∏ –±—É–¥—É—â–µ–µ, –≤–æ–ø—Ä–µ–∫–∏ –µ–≥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º—É –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–º—É —Ç–µ—á–µ–Ω–∏—é. –†–∞–∑—É–º–µ–µ—Ç—Å—è, –º–∞—à–∏–Ω—ã –≤—Ä–µ–º–µ–Ω–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ —è —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ —Ç—ã –≤—Å–µ —Ç–∞–∫–∏ –º–æ–∂–µ—à—å –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞–∑–∞–¥.. –≤ —ç—Ç–æ–º –º–µ—Å—Ç–µ –≤—Å–ø–ª–∞–∫–Ω—É—Ç —Å—Ç–∞—Ä—ã–µ —É—á–µ–Ω–∏–∫–∏, –∞ –Ω–æ–≤—ã–µ –¥–∞–∂–µ –Ω–µ –ø–æ–π–º—É—Ç –æ —á–µ–º —Ä–µ—á—å.."}});window.dispatchEvent(d)}}else r("–ù–µ–≤–µ—Ä–Ω–æ!","error")}function _(){o&&confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å?")&&(n=[],E(),u(),r("",""),o.disabled=!1,o.value="",o.focus(),localStorage.removeItem("devtools_triggered"),localStorage.removeItem("prefinal_triggered"))}function C(){document.querySelectorAll("[data-notes-dropdown], [data-claude-dropdown], [data-binary-dropdown]").forEach(t=>{t.classList.remove("notes-dropdown--active"),t.classList.remove("claude-dropdown--active"),t.classList.remove("binary-dropdown--active")})}f.addEventListener("click",e=>{e.stopPropagation();const t=s.classList.contains("letter-dropdown--active");C(),t?s.classList.remove("letter-dropdown--active"):(s.classList.add("letter-dropdown--active"),o?.focus())}),m&&document.removeEventListener("click",m),m=e=>{!s.contains(e.target)&&!f.contains(e.target)&&s.classList.remove("letter-dropdown--active")},document.addEventListener("click",m),o.addEventListener("input",I),w.addEventListener("click",_),y()}document.addEventListener("astro:page-load",h);document.readyState==="complete"?h():document.addEventListener("DOMContentLoaded",h);
